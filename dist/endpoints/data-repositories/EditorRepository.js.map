{"version":3,"sources":["../../../lib/endpoints/data-repositories/EditorRepository.es6"],"names":["EditorRepository","dbService","console","log","db","data","collection","filter","update","ninvoke","content","getMongoDBObject","then","updateData","catch","err","callback","insertOne","result"],"mappings":"AAAA;;;;;;;;;AACA;;;;;;;;IACaA,gB,WAAAA,gB;AAET,8BAAYC,SAAZ,EAAuB;AAAA;;AACnB,aAAKA,SAAL,GAAiBA,SAAjB;AACAC,gBAAQC,GAAR;AACH;;;;mCAEUC,E,EAAIC,I,EAAM;AACjB,gBAAIC,aAAa,SAAjB;AAAA,gBACAC,SAAS,EAAC,OAAO,CAAR,EADT;AAAA,gBAEAC,SAAS;AACL,wBAAQ,EAAC,WAAWH,IAAZ;AADH,aAFT;;AAMA,mBAAO,YAAEI,OAAF,CAAUL,GAAGE,UAAH,CAAc,SAAd,CAAV,EAAoC,WAApC,EAAiDC,MAAjD,EAAyDC,MAAzD,CAAP;AACH;;;sCAEaE,O,EAAS;AAAA;;AACnB,mBAAO,KAAKT,SAAL,CAAeU,gBAAf,GAAkCC,IAAlC,CAAuC,UAACR,EAAD,EAAQ;AAClD,uBAAO,MAAKS,UAAL,CAAgBT,EAAhB,EAAoBM,OAApB,CAAP;AACH,aAFM,EAEJI,KAFI,CAEE,eAAO;AACZZ,wBAAQC,GAAR,CAAY,QAAZ,EAAsBY,GAAtB;AACH,aAJM,CAAP;AAKH;;;uCAEcX,E,EAAIY,Q,EAAU;AACzBZ,eAAGE,UAAH,CAAc,SAAd,EAAyBW,SAAzB,CAAoC,EAAC,OAAO,CAAR,EAApC,EAAgD,UAASF,GAAT,EAAcG,MAAd,EAAsB;AAClEhB,wBAAQC,GAAR,CAAY,kDAAZ;AACAa;AACH,aAHD;AAIH","file":"EditorRepository.js","sourcesContent":["\"use strict\";\nimport Q from \"q\";\nexport class EditorRepository {\n\n    constructor(dbService) {\n        this.dbService = dbService;\n        console.log(`== In EditorRepository  ==`);\n    }\n\n    updateData(db, data) {\n        let collection = \"content\",\n        filter = {\"_id\": 1},\n        update = {\n            \"$set\": {\"content\": data}\n        };\n\n        return Q.ninvoke(db.collection(\"content\"), \"updateOne\", filter, update);\n    }\n\n    updateContent(content) {\n        return this.dbService.getMongoDBObject().then((db) => {\n            return this.updateData(db, content);\n        }).catch(err => {\n            console.log(\"err : \", err);\n        })\n    }\n\n    insertDocument(db, callback) {\n        db.collection('content').insertOne( {\"_id\": 1}, function(err, result) {\n            console.log(\"Inserted a document into the content collection.\");\n            callback();\n        });\n    };\n}\n"]}