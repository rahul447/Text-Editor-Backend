{"version":3,"sources":["../../lib/MongoDB/MongoDbService.es6"],"names":["MongoDbService","config","mongoDb","connectionString","Error","connectionString_","dbConnection_","connectToDB","console","log","ninvoke","catch","err","then","dbConn"],"mappings":"AAAA;;;;;;;;;AAEA;;AACA;;;;;;;;IAEaA,c,WAAAA,c;AAEX,gCAAsB;AAAA,QAATC,MAAS,QAATA,MAAS;;AAAA;;AACpB,QAAI,CAACA,MAAD,IAAW,CAACA,OAAOC,OAAP,CAAeC,gBAA/B,EAAiD;AAC/C,YAAM,IAAIC,KAAJ,CAAU,yCAAV,CAAN;AACD;;AAED,SAAKC,iBAAL,GAAyBJ,OAAOC,OAAP,CAAeC,gBAAxC;AACA,SAAKG,aAAL,GAAqB,KAAKC,WAAL,EAArB;AACD;;;;kCAEa;AACVC,cAAQC,GAAR,CAAY,sBAAZ;AACF,WAAKH,aAAL,GAAqB,YAAEI,OAAF,uBAAuB,SAAvB,EAAkC,KAAKL,iBAAvC,CAArB;AACA,aAAO,KAAKC,aAAZ;AACD;;;uCAGkB;AACjB,aAAO,KAAKA,aAAL,CACJK,KADI,CACE,eAAO;AACZH,gBAAQC,GAAR,CAAY,sCAAZ;AACAD,gBAAQC,GAAR,CAAY,SAAZ,EAAuBG,GAAvB;AACD,OAJI,EAKJC,IALI,CAKC,kBAAU;AACd,eAAOC,MAAP;AACD,OAPI,CAAP;AAQD","file":"MongoDbService.js","sourcesContent":["\"use strict\";\n\nimport {MongoClient} from \"mongodb\";\nimport Q from \"q\";\n\nexport class MongoDbService {\n\n  constructor({config}) {\n    if (!config || !config.mongoDb.connectionString) {\n      throw new Error(\"MongoDB connection string not available\");\n    }\n\n    this.connectionString_ = config.mongoDb.connectionString;\n    this.dbConnection_ = this.connectToDB();\n  }\n\n  connectToDB() {\n      console.log(\"connecting to mongo \");\n    this.dbConnection_ = Q.ninvoke(MongoClient, \"connect\", this.connectionString_);\n    return this.dbConnection_;\n  }\n\n\n  getMongoDBObject() {\n    return this.dbConnection_\n      .catch(err => {\n        console.log(\" MongoDB connection is not available\");\n        console.log(\" err : \", err);\n      })\n      .then(dbConn => {\n        return dbConn;\n      });\n  }\n}\n"]}